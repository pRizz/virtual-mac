---
phase: 02-terminal-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - styles.css
autonomous: true

must_haves:
  truths:
    - "Terminal has dark background matching macOS Pro profile"
    - "Terminal uses monospace font (SF Mono/Menlo)"
    - "Terminal output is scrollable with styled scrollbar"
    - "Terminal text is white on dark background"
  artifacts:
    - path: "styles.css"
      provides: "Terminal CSS styling"
      contains: ".terminal"
  key_links:
    - from: "styles.css"
      to: "src/terminal.rs"
      via: "CSS class names"
      pattern: "terminal-output|terminal-input|terminal-prompt"
---

<objective>
Apply macOS Terminal Pro profile visual styling - dark background, monospace font, proper padding, and styled scrollbar.

Purpose: Transform the visually minimal terminal into one that looks like macOS Terminal's "Pro" profile.
Output: CSS styling for the terminal component matching macOS Terminal appearance.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-terminal-polish/02-RESEARCH.md
@styles.css
@src/terminal.rs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Terminal CSS custom properties and base styling</name>
  <files>styles.css</files>
  <action>
    Add terminal-specific CSS to styles.css. Place after existing component styles (search for a good location near the end of app-specific styles).

    Add these CSS rules:

    ```css
    /* ===============================
       TERMINAL STYLES
       =============================== */

    /* Terminal CSS custom properties (Pro profile) */
    :root {
        --terminal-bg: #000000;
        --terminal-bg-opacity: 0.85;
        --terminal-text: #FFFFFF;
        --terminal-cursor: #FFFFFF;
        --terminal-selection: #4A90D9;
        --terminal-scrollbar-thumb: rgba(255, 255, 255, 0.3);
        --terminal-scrollbar-track: transparent;
    }

    .terminal {
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, var(--terminal-bg-opacity));
        color: var(--terminal-text);
        font-family: "SF Mono", "Menlo", "Monaco", "Consolas", monospace;
        font-size: 11px;
        line-height: 1.4;
        display: flex;
        flex-direction: column;
        padding: 4px 10px;
        box-sizing: border-box;
        overflow: hidden;
    }

    .terminal-output {
        flex: 1;
        overflow-y: auto;
        overflow-x: hidden;
        padding-bottom: 4px;
    }

    .terminal-line {
        white-space: pre-wrap;
        word-break: break-all;
        min-height: 1.4em;
    }

    .terminal-input-line {
        display: flex;
        align-items: center;
        white-space: nowrap;
        flex-shrink: 0;
    }

    .terminal-prompt {
        color: var(--terminal-text);
        flex-shrink: 0;
        white-space: pre;
    }

    .terminal-input {
        flex: 1;
        background: transparent;
        border: none;
        outline: none;
        color: var(--terminal-text);
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
        caret-color: var(--terminal-cursor);
        padding: 0;
        margin: 0;
    }

    .terminal-input::selection {
        background: var(--terminal-selection);
    }
    ```

    Note: Do NOT remove or modify existing CSS. Add these styles in a new section.
  </action>
  <verify>
    Run `trunk serve`:
    - Terminal window has black/dark background (85% opacity)
    - Terminal text is white
    - Font is monospace (SF Mono or fallback)
    - Font size appears to be ~11px
  </verify>
  <done>Terminal has dark background, white text, monospace font at correct size</done>
</task>

<task type="auto">
  <name>Task 2: Add scrollbar styling for terminal</name>
  <files>styles.css</files>
  <action>
    Add macOS-style scrollbar styling for the terminal output area. Add directly after the terminal styles from Task 1:

    ```css
    /* Terminal scrollbar styling (macOS style) */
    .terminal-output::-webkit-scrollbar {
        width: 8px;
    }

    .terminal-output::-webkit-scrollbar-track {
        background: var(--terminal-scrollbar-track);
    }

    .terminal-output::-webkit-scrollbar-thumb {
        background: var(--terminal-scrollbar-thumb);
        border-radius: 4px;
    }

    .terminal-output::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.5);
    }

    /* Firefox scrollbar styling */
    .terminal-output {
        scrollbar-width: thin;
        scrollbar-color: var(--terminal-scrollbar-thumb) var(--terminal-scrollbar-track);
    }
    ```

    This provides:
    - Thin 8px scrollbar (macOS style)
    - Transparent track (blends with terminal background)
    - Semi-transparent white thumb
    - Rounded corners on thumb
    - Hover state for better visibility
    - Firefox fallback
  </action>
  <verify>
    Run `trunk serve`:
    - Run several commands to generate scrollable output (e.g., `help` multiple times)
    - Scrollbar appears as thin, semi-transparent white bar
    - Scrollbar thumb has rounded corners
    - Scrollbar thumb brightens on hover
  </verify>
  <done>Terminal scrollbar matches macOS aesthetic - thin, semi-transparent, rounded</done>
</task>

</tasks>

<verification>
1. `trunk build` compiles without errors
2. Terminal window visually matches macOS Terminal Pro profile
3. Dark background with slight transparency (85% opacity)
4. White monospace text at 11px
5. Scrollbar is thin and semi-transparent
</verification>

<success_criteria>
- Terminal background is black at 85% opacity
- Text is white (#FFFFFF)
- Font is SF Mono/Menlo at 11px with 1.4 line-height
- Scrollbar is 8px wide, semi-transparent white
- Input caret is white
- Text selection uses blue highlight (#4A90D9)
</success_criteria>

<output>
After completion, create `.planning/phases/02-terminal-polish/02-02-SUMMARY.md`
</output>
