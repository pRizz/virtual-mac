---
phase: 01-calculator-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - styles.css
autonomous: true

must_haves:
  truths:
    - "Calculator buttons are rounded circles (50% border-radius)"
    - "Zero button is pill-shaped spanning two columns"
    - "Button colors match macOS (orange operators, dark gray digits, light gray functions)"
    - "Display text is large and right-aligned"
    - "Buttons have visible gaps between them"
  artifacts:
    - path: "styles.css"
      provides: "macOS Calculator visual styling"
      contains: "border-radius: 50%"
  key_links:
    - from: "styles.css"
      to: "src/calculator.rs"
      via: "CSS class names (calc-btn, digit, operator, function)"
      pattern: "calc-btn"
---

<objective>
Update Calculator CSS to match macOS Calculator visual design.

Purpose: Transform the calculator from squared buttons with minimal gaps to the modern macOS Sequoia design with rounded circular buttons, proper spacing, and correct proportions.

Output: Updated `styles.css` with macOS-authentic calculator button styling.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-calculator-polish/01-RESEARCH.md
@styles.css (lines 966-1068)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update button styling to rounded circles with proper spacing</name>
  <files>styles.css</files>
  <action>
Update the calculator CSS section (around lines 966-1068) with macOS-authentic styling:

1. **Button grid** (`.calc-buttons`):
   - Change `gap: 1px` to `gap: 12px`
   - Change `background: #000` to `background: #1c1c1c`
   - Add `padding: 12px`

2. **Base button** (`.calc-btn`):
   - Add `border-radius: 50%`
   - Add `aspect-ratio: 1` for circular shape
   - Change `font-size: 24px` to `font-size: 28px`
   - Remove `min-height: 60px` (aspect-ratio handles sizing)

3. **Zero button** (`.calc-btn.zero`):
   - Change `border-radius: 0` to `border-radius: 40px` (pill shape)
   - Add `aspect-ratio: auto` to override circular constraint
   - Add `min-height: 60px` to maintain height

4. **Display** (`.calc-display`):
   - Change `min-height: 80px` to `min-height: 100px`
   - Change `padding: 10px 16px` to `padding: 12px 20px`

5. **Display text** (`.calc-display-text`):
   - Change `font-size: 48px` to `font-size: 64px`

6. **Operator active state** - Add new rule:
   ```css
   .calc-btn.operator.active {
       background: #FFFFFF;
       color: #ff9f0a;
   }
   ```

Keep existing hover and active pseudo-class rules. The colors are already correct from the current implementation.
  </action>
  <verify>
Run `trunk serve` and visually inspect:
- Buttons should be circular with visible gaps
- Zero button should be pill-shaped
- Display text should be larger
- Operator button should have `.active` class support (CSS ready)
  </verify>
  <done>
Calculator buttons are rounded with proper spacing matching macOS Calculator visual design.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Updated Calculator CSS with rounded buttons, proper gaps (12px), larger display (64px font), and pill-shaped zero button matching macOS Calculator (Basic mode).
  </what-built>
  <how-to-verify>
1. Run `trunk serve` in terminal
2. Open browser to http://localhost:8080
3. Click Calculator in dock or open from menu
4. Verify:
   - All number buttons (1-9) are circular (round, not square)
   - Operator buttons (+, -, x, /) are circular with orange background
   - Function buttons (AC, +/-, %) are circular with gray background
   - Zero button spans two columns as a pill shape (rounded rectangle)
   - Visible gaps between all buttons (~12px)
   - Display shows large right-aligned text
5. Compare visually with macOS Calculator if available
  </how-to-verify>
  <resume-signal>Type "approved" or describe any visual issues that need adjustment</resume-signal>
</task>

</tasks>

<verification>
- [ ] `trunk build` succeeds without CSS errors
- [ ] Buttons appear circular in browser
- [ ] Zero button is pill-shaped
- [ ] Gaps visible between buttons
- [ ] Display text is appropriately sized
</verification>

<success_criteria>
Calculator visually matches macOS Calculator Basic mode with:
- Rounded circular buttons
- Pill-shaped zero button
- 12px gaps between buttons
- 64px display font
- Active operator state CSS ready for use
</success_criteria>

<output>
After completion, create `.planning/phases/01-calculator-polish/01-01-SUMMARY.md`
</output>
