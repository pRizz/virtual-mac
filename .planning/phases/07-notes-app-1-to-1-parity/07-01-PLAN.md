---
phase: 07-notes-app-1-to-1-parity
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/notes.rs, styles.css]
autonomous: true
---

<objective>
Align Notes sidebar and list behaviors with macOS (pinning, sorting, and list layout), so the navigation experience feels native.

Purpose: The sidebar + list is half of the Notes experience; it must read as real macOS Notes at a glance.
Output: Updated Notes state/logic plus list UI styling and pin/sort affordances.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-notes-app-1-to-1-parity/07-CONTEXT.md
@.planning/phases/07-notes-app-1-to-1-parity/07-RESEARCH.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/STRUCTURE.md
@src/notes.rs
@styles.css
</context>

<tasks>
<task type="auto">
  <name>Task 1: Add pin + sort state for notes list</name>
  <files>src/notes.rs</files>
  <action>Add pinned and sort metadata to Notes state to mirror macOS Notes. Introduce a `is_pinned: bool` field on `Note` and a `notes_sort_mode` (e.g., UpdatedAt, CreatedAt, Title) in `NotesState`. Update note creation defaults, persistence (save/load), and `visible_notes` to sort with pinned notes first, then selected sort mode, and keep search filtering intact. Add helpers to toggle pin/unpin and to update sort mode from the list header.</action>
  <verify>cargo build --all-targets --all-features</verify>
  <done>Notes state persists pin/sort metadata and list ordering updates correctly when pin/sort changes.</done>
</task>

<task type="auto">
  <name>Task 2: Update notes list + sidebar UI to match macOS layout</name>
  <files>src/notes.rs, styles.css</files>
  <action>Update the list header and list items to include pinned grouping and sort/pin actions. Add a "Pinned" section label when pinned notes exist and keep action buttons (new note, sort menu, pin/unpin) aligned to macOS layout. Refresh CSS for sidebar width, list row padding, typography, and selection states so the three-column layout reads closer to macOS Notes. Keep actions hidden until hover where appropriate and avoid changing unrelated app styling.</action>
  <verify>cargo build --all-targets --all-features</verify>
  <done>Sidebar/list layout matches macOS proportions, pinned notes render in a separate section, and sort/pin affordances are visible and functional.</done>
</task>
</tasks>

<verification>
Before declaring plan complete:
- [ ] `cargo fmt --all`
- [ ] `cargo clippy --all-targets --all-features -- -D warnings`
- [ ] `cargo build --all-targets --all-features`
</verification>

<success_criteria>

- Notes list supports pinning and sorting with persisted state
- Sidebar and list layout/typography read as macOS Notes
- No lint/build errors introduced
  </success_criteria>

<output>
After completion, create `.planning/phases/07-notes-app-1-to-1-parity/07-01-SUMMARY.md`
</output>
