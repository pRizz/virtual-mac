---
phase: 04-notification-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - styles.css
autonomous: true

must_haves:
  truths:
    - "Notifications slide in from right with smooth ease-out animation"
    - "Notifications slide out to right when dismissed"
    - "Notifications have soft, diffuse macOS Big Sur shadow"
    - "Notifications show subtle brightness change on hover"
    - "Remaining notifications animate smoothly when one is removed"
  artifacts:
    - path: "styles.css"
      provides: "Notification animation keyframes and styling"
      contains: "notification-exit"
  key_links:
    - from: ".notification"
      to: "@keyframes notification-enter"
      via: "animation property"
      pattern: "animation:.*notification-enter"
    - from: ".notification.exiting"
      to: "@keyframes notification-exit"
      via: "animation property"
      pattern: "notification\\.exiting.*notification-exit"
---

<objective>
Update notification CSS to match macOS Big Sur visual style with smooth entrance/exit animations.

Purpose: Current notifications have basic slide-in but lack exit animations and refined macOS styling. This plan adds the visual polish to make notifications feel native.

Output: Updated styles.css with notification animation keyframes, improved shadows, and hover states.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-notification-polish/04-CONTEXT.md
@.planning/phases/04-notification-polish/04-RESEARCH.md
@styles.css (lines 3005-3150)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update entrance animation and add exit animation</name>
  <files>styles.css</files>
  <action>
Update the notification animations section (around lines 3019-3047):

1. Rename `@keyframes notification-slide-in` to `@keyframes notification-enter`

2. Update the entrance animation to use 400ms duration and slide from translateX(100%) instead of translateX(100px):
```css
@keyframes notification-enter {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}
```

3. Add exit animation keyframes (slide out to right):
```css
@keyframes notification-exit {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}
```

4. Update the `.notification` class animation property to use new name and 400ms duration:
```css
animation: notification-enter 400ms ease-out forwards;
```

5. Add the `.notification.exiting` class with exit animation:
```css
.notification.exiting {
    animation: notification-exit 400ms ease-in forwards;
    pointer-events: none; /* Prevent clicks during exit */
}
```
  </action>
  <verify>Confirm styles.css contains both `notification-enter` and `notification-exit` keyframes, and the `.notification.exiting` class exists.</verify>
  <done>Entrance animation uses translateX(100%) with 400ms ease-out. Exit animation keyframes defined. Exiting class ready for Rust to apply.</done>
</task>

<task type="auto">
  <name>Task 2: Update shadow and hover styles</name>
  <files>styles.css</files>
  <action>
Update notification styling for macOS Big Sur look:

1. Update the `.notification` box-shadow to softer, more diffuse macOS Big Sur style:
```css
box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.12),
    0 2px 8px rgba(0, 0, 0, 0.08);
```

2. Update border-radius to 16px (from 14px) for more modern macOS look

3. Add hover brightness change to `.notification` (subtle):
```css
.notification:hover {
    filter: brightness(1.05);
}
```
Note: Keep cursor as default (arrow), not pointer - per CONTEXT.md

4. Update the light theme shadow similarly:
```css
[data-theme="light"] .notification {
    background: rgba(255, 255, 255, 0.95);
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.08),
        0 2px 8px rgba(0, 0, 0, 0.05);
}
```

5. Add transition for stacking collapse animation (smooth upward movement when notification removed):
```css
.notification {
    /* Add to existing properties */
    transition: transform 300ms ease-out, margin 300ms ease-out, filter 0.15s ease;
}
```
Note: The transition should NOT interfere with the entrance/exit animations since those use `animation` property, not `transition`.
  </action>
  <verify>Confirm `.notification` has updated box-shadow with larger blur radius, border-radius of 16px, and hover brightness filter.</verify>
  <done>Notifications have soft diffuse shadow matching macOS Big Sur. Hover shows subtle brightness increase. Stacking collapse transitions smoothly.</done>
</task>

</tasks>

<verification>
After completing both tasks:
1. Check styles.css compiles without errors: `trunk build` should succeed
2. Visually verify in browser (manual check deferred to Plan 02 completion)
</verification>

<success_criteria>
- `@keyframes notification-enter` exists with 400ms ease-out, translateX(100%) to translateX(0)
- `@keyframes notification-exit` exists with 400ms ease-in, translateX(0) to translateX(100%)
- `.notification.exiting` class applies exit animation
- `.notification` has soft diffuse shadow (8px 32px blur radius)
- `.notification:hover` has subtle brightness filter
- Border-radius is 16px
- Transitions defined for stacking collapse
</success_criteria>

<output>
After completion, create `.planning/phases/04-notification-polish/04-01-SUMMARY.md`
</output>
